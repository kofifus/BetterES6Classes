"undefined"==typeof Function.prototype.New&&(Function.prototype.New=function(){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=function(c){return void 0!==c&&null!==c&&"object"===("undefined"==typeof c?"undefined":a(c))&&c.constructor!==Array&&c.constructor!==Date},c=this();if(!b(c))throw"New - invalid interface";Object.setPrototypeOf(c,this.prototype);var d=c.ctor,e=void 0;if(d&&"function"!=typeof d)throw"New - invalid ctor";for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];if(g.length>0&&!d)throw"New - missing ctor";if(d&&(e=d.call.apply(d,[c].concat(g)),delete c.ctor),e){if(b(e)&&(e=[e]),e.constructor!==Array)throw"New - invalid composition";e.forEach(function(a){if(!b(a))throw"New - invalid composition";var d=Object.getOwnPropertyNames(a);d.forEach(function(b){c.hasOwnProperty(b)||Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))})})}return c});
